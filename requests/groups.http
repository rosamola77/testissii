@BASE = http://127.0.0.1:8080/api/v1

### Login as a valid user (Daniel)
# @name login
POST {{BASE}}/login
Content-Type: application/json

{
    "email": "daniel@alum.us.es",
    "password": "daniel"
}
###
# [P] 1. Crear grupo con datos correctos.
POST {{BASE}}/groups
Token: {{login.response.body.sessionToken}}
Content-Type: application/json

{
    "name": "L3",
    "activity": "Laboratorio",
    "year": 2019,
    "subjectId": 1
}
###
# [N] 2. Crear grupo con name a NULL.
POST {{BASE}}/groups
Token: {{login.response.body.sessionToken}}
Content-Type: application/json

{
    "name": null,
    "activity": "Teoría",
    "year": 1,
    "subjectId": 1
}
###
# [N] 3. Crear grupo con activity inválida.
POST {{BASE}}/groups
Token: {{login.response.body.sessionToken}}
Content-Type: application/json

{
    "name": "Grupo B",
    "activity": "Seminario",
    "year": 1,
    "subjectId": 1
}
###
# [N] 4. Crear grupo con year inválido (<= 0).
POST {{BASE}}/groups
Token: {{login.response.body.sessionToken}}
Content-Type: application/json

{
    "name": "Grupo C",
    "activity": "Teoría",
    "year": 0,
    "subjectId": 1
}
###
# [N] 5. Crear grupo con subjectId a NULL.
POST {{BASE}}/groups
Token: {{login.response.body.sessionToken}}
Content-Type: application/json

{
    "name": "Grupo D",
    "activity": "Laboratorio",
    "year": 1,
    "subjectId": null
}
###
# [N] 6. Crear grupo duplicado (mismo name, year y subjectId).
POST {{BASE}}/groups
Token: {{login.response.body.sessionToken}}
Content-Type: application/json

{
    "name": "L3",
    "activity": "Laboratorio",
    "year": 2019,
    "subjectId": 1
}
###
# [P] 7. Actualizar grupo con datos correctos. (/groups/{nºid})
PUT {{BASE}}/groups/25
Token: {{login.response.body.sessionToken}}
Content-Type: application/json

{
    "name": "T1 Actualizado",
    "activity": "Teoría",
    "year": 2018,
    "subjectId": 1
}
###
# [N] 8. Actualizar grupo con name a NULL.
PUT {{BASE}}/groups/1
Token: {{login.response.body.sessionToken}}
Content-Type: application/json

{
    "name": null,
    "activity": "Laboratorio",
    "year": 2,
    "subjectId": 1
}
###
# [N] 9. Actualizar grupo con activity inválida.
PUT {{BASE}}/groups/1
Token: {{login.response.body.sessionToken}}
Content-Type: application/json

{
    "name": "L3",
    "activity": "Xd",
    "year": 2019,
    "subjectId": 1
}
###
# [N] 10. Actualizar grupo con year inválido.
PUT {{BASE}}/groups/1
Token: {{login.response.body.sessionToken}}
Content-Type: application/json

{
    "name": "L3",
    "activity": "Laboratorio",
    "year": -1,
    "subjectId": 1
}
###
# [N] 11. Actualizar grupo con subjectId a NULL.
PUT {{BASE}}/groups/1
Token: {{login.response.body.sessionToken}}
Content-Type: application/json

{
    "name": "L3",
    "activity": "Laboratorio",
    "year": 2019,
    "subjectId": null
}
###
# [N] 12. Actualizar grupo provocando duplicado (nombre, año y subjectId ya existentes).
PUT {{BASE}}/groups/2
Token: {{login.response.body.sessionToken}}
Content-Type: application/json

{
    "name": "T1",
    "activity": "Teoría",
    "year": 2018,
    "subjectId": 1
}
###
# [P] 13. Borrar grupo.
DELETE {{BASE}}/groups/25
Token: {{login.response.body.sessionToken}}
###
# [N] 14. Borrar grupo que no existe (no lanza excepción).
DELETE {{BASE}}/groups/9999
Token: {{login.response.body.sessionToken}}
###
# [N] 15. Borrar grupo que tiene relaciones (p. ej. estudiantes o notas) — espera fallo por FK.
DELETE {{BASE}}/groups/1
Token: {{login.response.body.sessionToken}}
###